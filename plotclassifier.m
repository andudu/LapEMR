function plotclassifier(classifier,xrange,yrange)
% {plotclassifier} plots the output of a trained classfier on a 2D grid.
%
%      plotclassifier(classifier,xrange,yrange)
%      
%      classifier: the trained classifier structure (generated with the
%                  'saveclassifier' function)
%      xrange: [xmin, xmax]
%      yrange: [ymin, ymax]
%
% Author: Stefano Melacci (2009)
%         mela@dii.unisi.it
%         * based on the code of Vikas Sindhwani, vikas.sindhwani@gmail.com

% getting options
x=xrange;
y=yrange;
name=classifier.name;
kerneltype=classifier.options.Kernel;
kernelparam=classifier.options.KernelParam;
%lambdas=[classifier.options.gamma_A, classifier.options.gamma_I];

% making a grid of points
[xx,yy]=meshgrid(x,y); 
X=[xx(:) yy(:)];

% computing outputs on the grid
K=calckernel(classifier.options, classifier.xsvs, X);
z=sign(K*classifier.alpha + classifier.b);
% drawing
Z=reshape(z,length(x),length(y));
warning off all
contourf(xx,yy,Z,[0 0],'LineStyle','none');
%contourf(xx,yy,Z,20,'LineStyle','none');
% colormap([0 0 1;0.03226 0.03226 1;0.06452 0.06452 1;...
%            0.09677 0.09677 1;0.129 0.129 1;0.1613 0.1613 1;...
%            0.1935 0.1935 1;0.2258 0.2258 1;0.2581 0.2581 1;...
%            0.2903 0.2903 1;0.3226 0.3226 1;0.3548 0.3548 1;...
%            0.3871 0.3871 1;0.4194 0.4194 1;0.4516 0.4516 1;...
%            0.4839 0.4839 1;0.5161 0.5161 1;0.5484 0.5484 1;...
%            0.5806 0.5806 1;0.6129 0.6129 1;0.6452 0.6452 1;...
%            0.6774 0.6774 1;0.7097 0.7097 1;0.7419 0.7419 1;...
%            0.7742 0.7742 1;0.8065 0.8065 1;0.8387 0.8387 1;...
%            0.871 0.871 1;0.9032 0.9032 1;0.9355 0.9355 1;...
%            0.9677 0.9677 1;1 1 1;1 1 1;1 0.9677 0.9677;...
%            1 0.9355 0.9355;1 0.9032 0.9032;1 0.871 0.871;...
%            1 0.8387 0.8387;1 0.8065 0.8065;1 0.7742 0.7742;...
%            1 0.7419 0.7419;1 0.7097 0.7097;1 0.6774 0.6774;...
%            1 0.6452 0.6452;1 0.6129 0.6129;1 0.5806 0.5806;...
%            1 0.5484 0.5484;1 0.5161 0.5161;1 0.4839 0.4839;...
%            1 0.4516 0.4516;1 0.4194 0.4194;1 0.3871 0.3871;...
%            1 0.3548 0.3548;1 0.3226 0.3226;1 0.2903 0.2903;...
%            1 0.2581 0.2581;1 0.2258 0.2258;1 0.1935 0.1935;...
%            1 0.1613 0.1613;1 0.129 0.129;1 0.09677 0.09677;...
%            1 0.06452 0.06452;1 0.03226 0.03226;1 0 0]);
%contour(xx,yy,reshape(z1,length(x),length(y)),[0 0],...
%         'LineColor',[0.5,0.5,0.5],'LineStyle',':');
warning on all

hold on;
title([name '  ('  kerneltype  ', \sigma =' num2str(kernelparam) ')']);
